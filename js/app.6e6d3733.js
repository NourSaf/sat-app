(function(){"use strict";var e={8087:function(e,t,n){var i=n(5130),a=n(6768),r=n(4232);const o={class:"section"},s={class:"section"},l=["src"],c={key:1};function u(e,t,n,i,u,d){return(0,a.uX)(),(0,a.CE)("div",null,[t[3]||(t[3]=(0,a.Lk)("h1",null,"The Dreaming Sat",-1)),(0,a.Lk)("div",null,[t[0]||(t[0]=(0,a.Lk)("h3",null,"Current Coordinates:",-1)),(0,a.Lk)("p",null,(0,r.v_)(u.coordinates_sat),1)]),(0,a.Lk)("div",o,[t[1]||(t[1]=(0,a.Lk)("h3",null,"Gemini Response (Location):",-1)),(0,a.Lk)("div",null,(0,r.v_)(u.gemini_response),1)]),(0,a.Lk)("div",s,[t[2]||(t[2]=(0,a.Lk)("h3",null,"Satellite Image (Generated by Gemini):",-1)),u.geminiImageUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,src:u.geminiImageUrl,alt:"Gemini Generated Satellite View"},null,8,l)):((0,a.uX)(),(0,a.CE)("p",c,"Loading Gemini-generated image..."))])])}n(8111),n(1701);var d=n(6288);const f="RfQMNBDXGpjVttL8LW3kpH",g=new d.ij("AIzaSyCZjHuMPr9JPA37ps8Gs1z3xgN9x3LGVB0");var h={name:"App",data(){return{sat_data:null,interval:null,coordinates_sat:"",gemini_response:"",geminiImageUrl:"",prompt:""}},mounted(){this.fetch_data(),this.interval=setInterval((()=>{this.coordinates_sat=this.sat_data.features.map((e=>e.geometry.coordinates)),this.fetch_data()}),3e4)},watch:{coordinates_sat:{deep:!0,handler(e){e[0][1]&&e[1][1]&&e[2][1]&&(this.prompt=`What is the place located at latitude ${e[0][1]}, longitude ${e[1][1]} and altitude ${e[2][1]}? Provide only the name.`,this.sendToGemini(),this.generateGeminiImage(e[0][1],e[1][1]))}}},methods:{async fetch_data(){try{const e=await fetch(`https://api.spectator.earth/satellite/?api_key=${f}`,{cache:"no-store"});if(!e.ok)throw new Error(`API Error: ${e.status}`);this.sat_data=await e.json()}catch(e){console.error("Fetch error:",e)}},async sendToGemini(){try{const e=g.getGenerativeModel({model:"gemini-2.0-flash"}),t=await e.generateContent(this.prompt);this.gemini_response=t.response.text()}catch(e){console.error("Gemini text generation error:",e)}},async generateGeminiImage(e,t){const n=`Generate a realistic, high-quality satellite-style aerial view of latitude ${e} and longitude ${t}, clearly showing terrain, vegetation, rivers, roads, and buildings.`,i=g.getGenerativeModel({model:"gemini-2.0-flash-exp-image-generation",generationConfig:{responseModalities:["Text","Image"]}});try{const e=await i.generateContent(n);let t=!1;for(const n of e.response.candidates[0].content.parts)if(n.inlineData){this.geminiImageUrl=`data:image/png;base64,${n.inlineData.data}`,t=!0;break}t||(console.error("Gemini didn't return valid inline image data."),this.geminiImageUrl="")}catch(a){console.error("Gemini image generation error:",a),this.geminiImageUrl=""}}},beforeUnmount(){clearInterval(this.interval)}},m=n(1241);const p=(0,m.A)(h,[["render",u],["__scopeId","data-v-a0ae19bc"]]);var v=p;(0,i.Ef)(v).mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,r){if(!i){var o=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],r=e[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[i,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,o=i[0],s=i[1],l=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var u=l(n)}for(t&&t(i);c<o.length;c++)r=o[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},i=self["webpackChunksat_app"]=self["webpackChunksat_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(8087)}));i=n.O(i)})();
//# sourceMappingURL=app.6e6d3733.js.map